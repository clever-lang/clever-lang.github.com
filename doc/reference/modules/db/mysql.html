
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>MySQL &mdash; Clever v1.0.0 documentation</title>
    
    <link rel="stylesheet" href="../../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     'v1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="top" title="Clever v1.0.0 documentation" href="../../../index.html" />
    <link rel="up" title="Database module" href="../db/index.html" />
    <link rel="next" title="Getting involved!" href="../../../getting_involved.html" />
    <link rel="prev" title="Database module" href="../db/index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../getting_involved.html" title="Getting involved!"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../db/index.html" title="Database module"
             accesskey="P">previous</a> |</li>
        <li><a href="../../../index.html">Clever v1.0.0 documentation</a> &raquo;</li>
          <li><a href="../../modules/index.html" >Modules</a> &raquo;</li>
          <li><a href="../db/index.html" accesskey="U">Database module</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="mysql">
<h1>MySQL<a class="headerlink" href="#mysql" title="Permalink to this headline">¶</a></h1>
<p>The Mysql database module allows the programmer to connect to a MySQL database
and manipulate it through an easy to use set of methods.</p>
<div class="section" id="constants">
<h2>Constants<a class="headerlink" href="#constants" title="Permalink to this headline">¶</a></h2>
<p>If any constant is defined, it should be listed here.</p>
</div>
<div class="section" id="data-types">
<h2>Data Types<a class="headerlink" href="#data-types" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>Mysql<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>This is the main class for this module. It represents a connection to the
specified database with the selected user/password/port combination provided in
the constructor or connect() method.
This class provides the following methods:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="#connect">connect()</a></li>
<li><a class="reference internal" href="#query">query()</a></li>
<li><a class="reference internal" href="#fetchrow">fetchRow()</a></li>
<li><a class="reference internal" href="#geterror">getError()</a></li>
<li><a class="reference internal" href="#geterrornumber">getErrorNumber()</a></li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<div class="section" id="new">
<h3>new()<a class="headerlink" href="#new" title="Permalink to this headline">¶</a></h3>
<p>This is the constructor</p>
</div>
<div class="section" id="connect">
<span id="id2"></span><h3>connect()<a class="headerlink" href="#connect" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp"><div class="highlight"><pre><span class="kt">bool</span> <span class="n">connect</span><span class="p">(</span><span class="n">String</span> <span class="n">host</span><span class="p">,</span> <span class="n">String</span> <span class="n">user</span><span class="p">,</span> <span class="n">String</span> <span class="n">password</span><span class="p">,</span> <span class="n">String</span> <span class="n">database</span><span class="p">[,</span> <span class="kt">int</span> <span class="n">port</span> <span class="o">=</span> <span class="mi">3306</span><span class="p">])</span>
</pre></div>
</div>
<p>Used to connect to the database.</p>
<p><strong>Parameters</strong></p>
<blockquote>
<div><p><em>host</em> - The address of the host where to connect to</p>
<p><em>user</em> - The username used to connect to the database</p>
<p><em>password</em> - The password for the user</p>
<p><em>database</em> - The name of the database where to connect to</p>
<p><em>port</em> - Number of the port where the server is running. Default is 3306</p>
</div></blockquote>
<p><strong>Return</strong></p>
<p>Returns <strong>true</strong> if the connection was successfull, <strong>false</strong> otherwise.</p>
<p>The error can be checked calling either the <a class="reference internal" href="#geterror">getError()</a> or <a class="reference internal" href="#geterrornumber">getErrorNumber()</a> methods.</p>
<p><strong>Example</strong></p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="n">import</span> <span class="n">db</span><span class="p">.</span><span class="n">mysql</span><span class="p">.</span><span class="o">*</span><span class="p">;</span>
<span class="n">import</span> <span class="n">std</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="o">*</span><span class="p">;</span>
<span class="n">import</span> <span class="n">std</span><span class="p">.</span><span class="n">reflection</span><span class="p">.</span><span class="o">*</span><span class="p">;</span>

<span class="n">var</span> <span class="n">m</span> <span class="o">=</span> <span class="n">Mysql</span><span class="p">.</span><span class="k">new</span><span class="p">();</span>
<span class="k">if</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&quot;localhost&quot;</span><span class="p">,</span> <span class="s">&quot;user&quot;</span><span class="p">,</span> <span class="s">&quot;password&quot;</span><span class="p">,</span> <span class="s">&quot;clever_db&quot;</span><span class="p">))</span> <span class="p">{</span>
    <span class="n">println</span><span class="p">(</span><span class="s">&quot;Connected!&quot;</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="n">println</span><span class="p">(</span><span class="s">&quot;Error connecting&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="query">
<span id="id3"></span><h3>query()<a class="headerlink" href="#query" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp"><div class="highlight"><pre><span class="kt">bool</span> <span class="n">query</span><span class="p">(</span><span class="n">String</span> <span class="n">query</span><span class="p">)</span>
</pre></div>
</div>
<p>Allows the programmer to execute a query in the selected database. Only one query
is allowed per call.</p>
<p><strong>Parameters</strong></p>
<blockquote>
<div><em>query</em> - The query one wants to execute.</div></blockquote>
<p><strong>Return</strong></p>
<p>Returns <strong>true</strong> if the query was successfully executed, <strong>false</strong> otherwise.</p>
<p>The error can be checked calling either the <a class="reference internal" href="#geterror">getError()</a> or <a class="reference internal" href="#geterrornumber">getErrorNumber()</a> methods.</p>
<p><strong>Example</strong></p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="n">import</span> <span class="n">db</span><span class="p">.</span><span class="n">mysql</span><span class="p">.</span><span class="o">*</span><span class="p">;</span>
<span class="n">import</span> <span class="n">std</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="o">*</span><span class="p">;</span>
<span class="n">import</span> <span class="n">std</span><span class="p">.</span><span class="n">reflection</span><span class="p">.</span><span class="o">*</span><span class="p">;</span>

<span class="n">var</span> <span class="n">m</span> <span class="o">=</span> <span class="n">Mysql</span><span class="p">.</span><span class="k">new</span><span class="p">();</span>
<span class="k">if</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&quot;localhost&quot;</span><span class="p">,</span> <span class="s">&quot;user&quot;</span><span class="p">,</span> <span class="s">&quot;password&quot;</span><span class="p">,</span> <span class="s">&quot;clever_db&quot;</span><span class="p">))</span> <span class="p">{</span>
    <span class="n">println</span><span class="p">(</span><span class="s">&quot;Connected!&quot;</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="n">println</span><span class="p">(</span><span class="s">&quot;Error connecting&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">if</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">query</span><span class="p">(</span><span class="s">&quot;select * from users&quot;</span><span class="p">))</span> <span class="p">{</span>
        <span class="n">println</span><span class="p">(</span><span class="s">&quot;Succesfully executed query!&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="fetchrow">
<span id="id4"></span><h3>fetchRow()<a class="headerlink" href="#fetchrow" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp"><div class="highlight"><pre><span class="n">Map</span> <span class="n">fetchRow</span><span class="p">()</span>
</pre></div>
</div>
<p>This method should be called after the <a class="reference internal" href="#query">query()</a> method to retrieve the
returned rows from the database one by one. Every time this method is called
the next row of the resultset will be retrieved from the database directly.</p>
<p><strong>Parameters</strong></p>
<blockquote>
<div><em>none</em></div></blockquote>
<p><strong>Return</strong></p>
<p>Returns a <tt class="docutils literal"><span class="pre">map</span></tt> object in case there is something to be read from the
database. The indexes on the map are the name of the columns from your SQL
statement.
If no more data is found, it returns <tt class="docutils literal"><span class="pre">null</span></tt>.</p>
<p><strong>Example</strong></p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="n">import</span> <span class="n">db</span><span class="p">.</span><span class="n">mysql</span><span class="p">.</span><span class="o">*</span><span class="p">;</span>
<span class="n">import</span> <span class="n">std</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="o">*</span><span class="p">;</span>
<span class="n">import</span> <span class="n">std</span><span class="p">.</span><span class="n">reflection</span><span class="p">.</span><span class="o">*</span><span class="p">;</span>

<span class="n">var</span> <span class="n">m</span> <span class="o">=</span> <span class="n">Mysql</span><span class="p">.</span><span class="k">new</span><span class="p">();</span>
<span class="k">if</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&quot;localhost&quot;</span><span class="p">,</span> <span class="s">&quot;user&quot;</span><span class="p">,</span> <span class="s">&quot;password&quot;</span><span class="p">,</span> <span class="s">&quot;clever_db&quot;</span><span class="p">))</span> <span class="p">{</span>
    <span class="n">println</span><span class="p">(</span><span class="s">&quot;Connected!&quot;</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="n">println</span><span class="p">(</span><span class="s">&quot;Error connecting&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">if</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">query</span><span class="p">(</span><span class="s">&quot;select * from users&quot;</span><span class="p">))</span> <span class="p">{</span>
        <span class="n">println</span><span class="p">(</span><span class="s">&quot;Succesfully executed query!&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">m</span><span class="p">.</span><span class="n">fetchRow</span><span class="p">();</span>
<span class="k">while</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">println</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">m</span><span class="p">.</span><span class="n">fetchRow</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="geterror">
<h3>getError()<a class="headerlink" href="#geterror" title="Permalink to this headline">¶</a></h3>
<p>Error method</p>
</div>
<div class="section" id="geterrornumber">
<h3>getErrorNumber()<a class="headerlink" href="#geterrornumber" title="Permalink to this headline">¶</a></h3>
<p>Error number method</p>
</div>
<div class="section" id="template">
<h3>template()<a class="headerlink" href="#template" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp"><div class="highlight"><pre><span class="k">template</span><span class="p">(</span><span class="n">String</span> <span class="n">param1</span><span class="p">[,</span> <span class="p">...])</span>
</pre></div>
</div>
<p>Description of the method</p>
<p><strong>Parameters</strong></p>
<p><strong>Return</strong></p>
<p><strong>Example</strong></p>
</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>Some more examples here :)</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/logo.jpg" alt="Logo"/>
            </a></p>
  <h3><a href="../../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">MySQL</a><ul>
<li><a class="reference internal" href="#constants">Constants</a></li>
<li><a class="reference internal" href="#data-types">Data Types</a><ul>
<li><a class="reference internal" href="#id1">Mysql</a></li>
</ul>
</li>
<li><a class="reference internal" href="#methods">Methods</a><ul>
<li><a class="reference internal" href="#new">new()</a></li>
<li><a class="reference internal" href="#connect">connect()</a></li>
<li><a class="reference internal" href="#query">query()</a></li>
<li><a class="reference internal" href="#fetchrow">fetchRow()</a></li>
<li><a class="reference internal" href="#geterror">getError()</a></li>
<li><a class="reference internal" href="#geterrornumber">getErrorNumber()</a></li>
<li><a class="reference internal" href="#template">template()</a></li>
</ul>
</li>
<li><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../db/index.html"
                        title="previous chapter">Database module</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../../../getting_involved.html"
                        title="next chapter">Getting involved!</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../../_sources/reference/modules/db/mysql.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../getting_involved.html" title="Getting involved!"
             >next</a> |</li>
        <li class="right" >
          <a href="../db/index.html" title="Database module"
             >previous</a> |</li>
        <li><a href="../../../index.html">Clever v1.0.0 documentation</a> &raquo;</li>
          <li><a href="../../modules/index.html" >Modules</a> &raquo;</li>
          <li><a href="../db/index.html" >Database module</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Clever Team.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>